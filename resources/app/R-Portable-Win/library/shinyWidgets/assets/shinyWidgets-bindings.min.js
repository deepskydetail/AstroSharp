function updateLabel(n,e){if(void 0!==n){if(1!==e.length)throw new Error("labelNode must be of length 1");Array.isArray(n)&&0===n.length?e.addClass("shiny-label-null"):(e.text(n),e.removeClass("shiny-label-null"))}}var awesomeCheckboxBinding=new Shiny.InputBinding;$.extend(awesomeCheckboxBinding,{find:function(n){return $(n).find(".awesome-checkbox-class")},getId:function(n){return n.id},getValue:function(n){return $('input:checkbox[name="'+Shiny.$escape(n.id)+'"]:checked').val()},setValue:function(n,e){$('input:checkbox[name="'+Shiny.$escape(n.id)+'"][value="'+Shiny.$escape(e)+'"]').prop("checked",!0)},subscribe:function(n,e){$(n).on("change.awesomeCheckboxBinding",(function(n){e()}))},unsubscribe:function(n){$(n).off(".awesomeCheckboxBinding")},getState:function(n){for(var e=$('input:checkbox[name="'+Shiny.$escape(n.id)+'"]'),t=new Array(e.length),i=0;i<t.length;i++)t[i]={value:e[i].value,label:this._getLabel(e[i])};return{label:$(n).parent().find('label[for="'+Shiny.$escape(n.id)+'"]').text(),value:this.getValue(n),options:t}},receiveMessage:function(n,e){var t=$(n);e.hasOwnProperty("options")&&(t.find("div.shiny-options-group").remove(),t.find("label.checkbox").remove(),t.append(e.options)),e.hasOwnProperty("value")&&this.setValue(n,e.value),e.hasOwnProperty("label")&&$(n).find('label[for="'+Shiny.$escape(n.id)+Shiny.$escape(e.value)+'"]').text(e.label),$(n).trigger("change")}}),Shiny.inputBindings.register(awesomeCheckboxBinding,"shinyWidgets.awesomeCheckbox");var awesomeRadioBinding=new Shiny.InputBinding;$.extend(awesomeRadioBinding,{find:function(n){return $(n).find(".awesome-bootstrap-radio")},getId:function(n){return n.id},getValue:function(n){return $('input:radio[name="'+Shiny.$escape(n.id)+'"]:checked').val()},setValue:function(n,e){$('input:radio[name="'+Shiny.$escape(n.id)+'"][value="'+Shiny.$escape(e)+'"]').prop("checked",!0)},subscribe:function(n,e){$(n).on("change.awesomeRadioBinding",(function(n){e()}))},unsubscribe:function(n){$(n).off(".awesomeRadioBinding")},getState:function(n){for(var e=$('input:radio[name="'+Shiny.$escape(n.id)+'"]'),t=new Array(e.length),i=0;i<t.length;i++)t[i]={value:e[i].value,label:this._getLabel(e[i])};return{label:$(n).parent().find('label[for="'+Shiny.$escape(n.id)+'"]').text(),value:this.getValue(n),options:t}},receiveMessage:function(n,e){var t=$(n);e.hasOwnProperty("options")&&(t.find("div.shiny-options-group").remove(),t.find("label.radio").remove(),t.append(e.options)),e.hasOwnProperty("value")&&this.setValue(n,e.value),e.hasOwnProperty("label")&&$(n).parent().find('label[for="'+Shiny.$escape(n.id)+'"]').text(e.label),$(n).trigger("change")}}),Shiny.inputBindings.register(awesomeRadioBinding,"shinyWidgets.awesomeRadio");var pickerInputBinding=new Shiny.InputBinding;$.extend(pickerInputBinding,{find:function(n){return $(n).find(".selectpicker")},getId:function(n){return n.id},getValue:function(n){return $(n).val()},setValue:function(n,e){var t=$(n).data("callback"),i=$(n).data("shinyInputBinding");$(n).selectpicker("destroy"),$(n).val(e),$(n).data("callback",t),$(n).data("shinyInputBinding",i),this.initialize(n),$(n).on("changed.bs.select.pickerInput",(function(n){t()}))},getState:function(n){for(var e=new Array(n.length),t=0;t<n.length;t++)e[t]={value:n[t].value,label:n[t].label};return{label:$(n).parent().find('label[for="'+Shiny.$escape(n.id)+'"]').text(),value:this.getValue(n),options:e}},receiveMessage:function(n,e){var t=$(n),i=$(n).data("callback"),a=$(n).data("shinyInputBinding");e.hasOwnProperty("options")&&($(n).selectpicker("destroy"),e.clearOptions&&($(n).removeData(),$(n).data("callback",i),$(n).data("shinyInputBinding",a)),$(n).data(e.options),this.initialize(n),$(n).on("changed.bs.select.pickerInput",(function(n){i()}))),e.hasOwnProperty("choices")&&($(n).selectpicker("destroy"),t.empty().append(e.choices),$(n).data("callback",i),$(n).data("shinyInputBinding",a),this.initialize(n),$(n).on("changed.bs.select.pickerInput",(function(n){i()}))),e.hasOwnProperty("value")&&this.setValue(n,e.value),e.hasOwnProperty("label")&&$(n).parent().parent().find('label[for="'+Shiny.$escape(n.id)+'"]').text(e.label),$(n).trigger("change")},subscribe:function(n,e){$(n).data("callback",e),$(n).on("changed.bs.select.pickerInput",(function(n){e()}))},unsubscribe:function(n){$(n).off(".pickerInput")},initialize:function(n){$(n).selectpicker(),"true"===$(n).attr("data-state-input")&&($(n).on("shown.bs.select",(function(e){Shiny.setInputValue(n.id+"_open",!0)})),$(n).on("hidden.bs.select",(function(e){Shiny.setInputValue(n.id+"_open",!1)}))),$(document).off("focusout.dropdown.data-api")}}),Shiny.inputBindings.register(pickerInputBinding,"shinyWidgets.pickerInput"),$((function(){$(".sw-switchInput").each((function(){$(this).bootstrapSwitch()}))}));var switchInputBinding=new Shiny.InputBinding;function tron_skin(){if("tron"==this.$.data("skin")){this.cursorExt=.3;var n,e=this.arc(this.cv);return this.g.lineWidth=this.lineWidth,this.o.displayPrevious&&(n=this.arc(this.v),this.g.beginPath(),this.g.strokeStyle=this.pColor,this.g.arc(this.xy,this.xy,this.radius-this.lineWidth,n.s,n.e,n.d),this.g.stroke()),this.g.beginPath(),this.g.strokeStyle=this.o.fgColor,this.g.arc(this.xy,this.xy,this.radius-this.lineWidth,e.s,e.e,e.d),this.g.stroke(),this.g.lineWidth=2,this.g.beginPath(),this.g.strokeStyle=this.o.fgColor,this.g.arc(this.xy,this.xy,this.radius-this.lineWidth+1+2*this.lineWidth/3,0,2*Math.PI,!1),this.g.stroke(),!1}}$.extend(switchInputBinding,{find:function(n){return $(n).find(".sw-switchInput")},getId:function(n){return n.id},getValue:function(n){return n.checked},setValue:function(n,e){n.checked=e},subscribe:function(n,e){$(n).on("switchChange.bootstrapSwitch",(function(n){e(!1)}))},unsubscribe:function(n){$(n).off(".switchInputBinding")},getState:function(n){return{value:n.checked}},receiveMessage:function(n,e){e.hasOwnProperty("value")&&(n.checked=e.value),e.hasOwnProperty("label")&&$(n).bootstrapSwitch("labelText",e.label),e.hasOwnProperty("offLabel")&&$(n).bootstrapSwitch("offText",e.offLabel),e.hasOwnProperty("onLabel")&&$(n).bootstrapSwitch("onText",e.onLabel),e.hasOwnProperty("onStatus")&&$(n).bootstrapSwitch("onColor",e.onStatus),e.hasOwnProperty("offStatus")&&$(n).bootstrapSwitch("offColor",e.offStatus),e.hasOwnProperty("disabled")&&$(n).bootstrapSwitch("disabled",e.disabled,e.disabled),$(n).trigger("change")},initialize:function(n){$(n).bootstrapSwitch()}}),Shiny.inputBindings.register(switchInputBinding,"shinyWidgets.switchInput");var knobInputBinding=new Shiny.InputBinding;$.extend(knobInputBinding,{find:function(n){return $(n).find(".knob-input")},initialize:function(n){var e=$(n).data("value"),t=$(n).data("post");t=void 0===t?"":t;var i,a=$(n).data("pre");a=void 0===a?"":a,n.value=e,i="tron"===$(n).data("skin")?tron_skin:function(){this.i.val(a+this.cv+t)},$(n).knob({draw:i,format:function(n){return a+n+t}})},getValue:function(n){var e=n.value,t=$(n).data("pre");if(void 0!==t){var i=new RegExp("^"+t);e=e.replace(i,"")}var a=$(n).data("post");if(void 0!==a){var r=new RegExp(a+"$");e=e.replace(r,"")}return parseFloat(e)},subscribe:function(n,e){$(n).data("immediate")?($(n).on("keyup.knobInputBinding",(function(n){e(!0)})),$(n).trigger("configure",{change:function(n){e(!0)},release:function(n){e(!1)}}),$(n).on("change.knobInputBinding",(function(n){e(!0)}))):($(n).on("keyup.knobInputBinding",(function(n){e(!0)})),$(n).trigger("configure",{release:function(n){e(!1)}}))},unsubscribe:function(n){$(n).off(".knobInputBinding")},receiveMessage:function(n,e){e.hasOwnProperty("value")&&$(n).val(e.value).trigger("change"),e.hasOwnProperty("readOnly")&&$(n).trigger("configure",{readOnly:e.readOnly}),e.hasOwnProperty("options")&&$(n).trigger("configure",e.options),e.hasOwnProperty("label")&&$(n).parent().parent().find('label[for="'+Shiny.$escape(n.id)+'"]').text(e.label),$(n).trigger("change")},getState:function(n){return{label:$(n).parent().parent().find('label[for="'+Shiny.$escape(n.id)+'"]').text(),value:n.value}},getRatePolicy:function(){return{policy:"debounce",delay:500}}}),Shiny.inputBindings.register(knobInputBinding,"shinyWidgets.knobInput");var multiInputBinding=new Shiny.InputBinding;$.extend(multiInputBinding,{initialize:function(n){var e=$(n).parent().find('script[data-for="'+Shiny.$escape(n.id)+'"]');e=JSON.parse(e.html()),$(n).multi(e),$(n).trigger("change")},find:function(n){return $(n).find(".multijs")},getId:function(n){return n.id},getValue:function(n){return $(n).val()},setValue:function(n,e){$(n).val(e),$(n).multi(),$(n).trigger("change")},getState:function(n){for(var e=new Array(n.length),t=0;t<n.length;t++)e[t]={value:n[t].value,label:n[t].label};return{label:$(n).parent().find('label[for="'+Shiny.$escape(n.id)+'"]').text(),value:this.getValue(n),options:e}},receiveMessage:function(n,e){var t=$(n);e.hasOwnProperty("options")&&t.empty().append(e.options),e.hasOwnProperty("value")&&this.setValue(n,e.value),e.hasOwnProperty("label")&&$(n).parent().parent().find('label[for="'+Shiny.$escape(n.id)+'"]').text(e.label);var i=new Event("change");$(n).multi(),t.get(0).dispatchEvent(i),t.trigger("change")},subscribe:function(n,e){$(n).on("change",(function(n){e()}))},unsubscribe:function(n){$(n).off(".multiInputBinding")}}),Shiny.inputBindings.register(multiInputBinding,"shinyWidgets.multiInput");var numericRangeInputBinding=new Shiny.InputBinding;function forceIonSliderTextUpdate(n){n.$cache&&n.$cache.input?n.$cache.input.trigger("change"):console.log("Couldn't force ion slider to update")}$.extend(numericRangeInputBinding,{find:function(n){return $(n).find(".shiny-numeric-range-input")},getType:function(n){return"sw.numericRange"},getValue:function(n){var e=$(n).find("input"),t=e[0].value,i=e[1].value;return[t=/^\s*$/.test(t)?null:isNaN(t)?t:+t,i=/^\s*$/.test(i)?null:isNaN(i)?i:+i]},setValue:function(n,e){n.find("input")[0].value=e[0],n.find("input")[1].value=e[1]},subscribe:function(n,e){$(n).on("change.numericRangeInputBinding",(function(n){e()}))},receiveMessage:function(n,e){var t=$(n);e.hasOwnProperty("label")&&t.find('label[for="'+Shiny.$escape(n.id)+'"]').text(e.label),e.hasOwnProperty("value")&&this.setValue(t,e.value),$(n).trigger("change")},unsubscribe:function(n){$(n).off(".numericRangeInputBinding")}}),Shiny.inputBindings.register(numericRangeInputBinding,"shinyWidgets.numericRange"),Shiny.addCustomMessageHandler("update-progressBar-shinyWidgets",(function(n){var e,t=n.id,i=document.getElementById(t),a=document.getElementById(t+"-value"),r=document.getElementById(t+"-total"),s=document.getElementById(t+"-title"),o=n.total,u=Math.round(n.value);o>0?(e=Math.round(u/o*100),null!==a&&(a.innerText=n.commas?u.toLocaleString("en-US"):u),null!==r&&(r.innerText=n.commas?o.toLocaleString("en-US"):o),u=Math.round(u/o*100)):e=n.percent>0?n.percent:u,i.style.width=e+"%",""!==i.innerText&&(i.innerText=u+n.unit_mark),null!==n.status&&(i.className="",i.classList.add("progress-bar"),i.classList.add("progress-bar-"+n.status)),null!==n.title&&(s.innerText=n.title)}));var sliderTextBinding=new Shiny.InputBinding;$.extend(sliderTextBinding,{find:function(n){return $.fn.ionRangeSlider?$(n).find(".sw-slider-text"):[]},getType:function(n){var e=$(n).data("data-type");return"date"===e?"shiny.date":"datetime"===e&&"shiny.datetime"},getValue:function(n){var e=$(n).data("ionRangeSlider"),t=e.result,i=e.options.values;return"text"===$(n).data("data-type")?2===this._numValues(n)?[i[t.from].toString(),i[t.to].toString()]:i[t.from].toString():2===this._numValues(n)?[i[t.from],i[t.to]]:i[t.from]},setValue:function(n,e){var t=$(n),i=t.data("ionRangeSlider");t.data("immediate",!0);try{2===this._numValues(n)&&e instanceof Array?i.update({from:e[0],to:e[1]}):i.update({from:e}),forceIonSliderTextUpdate(i)}finally{t.data("immediate",!1)}},subscribe:function(n,e){$(n).on("change.sliderInputBinding",(function(t){e(!$(n).data("immediate")&&!$(n).data("animating"))}))},unsubscribe:function(n){$(n).off(".sliderInputBinding")},receiveMessage:function(n,e){var t=$(n),i=t.data("ionRangeSlider"),a={},r=i.options.values;e.hasOwnProperty("choices")&&(a.values=e.choices,r=e.choices),e.hasOwnProperty("selected")&&(2===this._numValues(n)&&e.selected instanceof Array?(a.from=r.indexOf(e.selected[0]),a.to=r.indexOf(e.selected[1])):a.from=r.indexOf(e.selected)),e.hasOwnProperty("from_fixed")&&(a.from_fixed=e.from_fixed),e.hasOwnProperty("to_fixed")&&(a.to_fixed=e.to_fixed),e.hasOwnProperty("label")&&t.parent().find('label[for="'+Shiny.$escape(n.id)+'"]').text(e.label),t.data("immediate",!0);try{i.update(a),forceIonSliderTextUpdate(i)}finally{t.data("immediate",!1)}},getRatePolicy:function(){return{policy:"debounce",delay:250}},getState:function(n){},initialize:function(n){var e={},t=$(n),i=$(n).data("swvalues");e.values=i,t.ionRangeSlider(e)},_numValues:function(n){return"double"===$(n).data("ionRangeSlider").options.type?2:1}}),Shiny.inputBindings.register(sliderTextBinding,"shiny.sliderText");var spectrumInputBinding=new Shiny.InputBinding;$.extend(spectrumInputBinding,{find:function(n){return $(n).find(".sw-spectrum")},getId:function(n){return $(n).attr("id")},getValue:function(n){return $(n).spectrum("get").toHexString()},setValue:function(n,e){$(n).spectrum("set",e)},subscribe:function(n,e){$(n).on("change",(function(n){e()}))},unsubscribe:function(n){$(n).off(".spectrumInputBinding")},receiveMessage:function(n,e){e.hasOwnProperty("value")&&this.setValue(n,e.value),$(n).trigger("change")},getState:function(n){return{value:this.getValue(n)}},initialize:function(n){var e={},t=$(n).attr("data-update-on");$(n).removeAttr("data-update-on"),"dragstop"==t&&$(n).on("dragstop.spectrum",(function(e){$(n).trigger("change")})),"move"==t&&(e.move=function(){$(n).trigger("change")}),"change"==t&&(e.change=function(){$(n).trigger("change")}),$(n).spectrum(e)},getRatePolicy:function(){return{policy:"debounce",delay:250}}}),Shiny.inputBindings.register(spectrumInputBinding,"shinyWidgets.spectrumInput");var dropMenuInputBinding=new Shiny.InputBinding;$.extend(dropMenuInputBinding,{find:function(n){return $(n).find(".drop-menu-input")},getId:function(n){return n.id},getValue:function(n){return this["instance"+n.id].state.isShown},setValue:function(n,e){},subscribe:function(n,e){var t=this["onHidden"+n.id];this["instance"+n.id].setProps({onShown:function(n){e()},onHidden:function(n){t(n),e()}})},unsubscribe:function(n){$(n).off(".dropMenuInputBinding")},receiveMessage:function(n,e){e.hasOwnProperty("action")&&("enable"==e.action&&this["instance"+n.id].enable(),"disable"==e.action&&this["instance"+n.id].disable(),"show"==e.action&&this["instance"+n.id].show(),"hide"==e.action&&this["instance"+n.id].hide())},getState:function(n){},initialize:function(n){var e=document.getElementById(n.id),t=e.querySelector('script[data-for="'+n.id+'"]');t=JSON.parse(t.innerHTML);var i=document.getElementById(e.dataset.target);t.options.interactive=!0,t.options.onShow=function(n){var t=document.getElementById(e.dataset.template);t.style.display="block",Shiny.bindAll(t,!0),n.setContent(t)},this["onHidden"+n.id]=function(n){var t=n.props.content;t.style.display="none",e.appendChild(t),n.setContent("")},this["instance"+n.id]=tippy(i,t.options)}}),Shiny.inputBindings.register(dropMenuInputBinding,"shinyWidgets.dropMenuInput");var shinyMode=void 0!==window.Shiny&&!!window.Shiny.inputBindings;if(shinyMode){var VerticalTabInputBinding=new Shiny.InputBinding;$.extend(VerticalTabInputBinding,{initialize:function(n){$(n).on("click","> *",(function(n){n.preventDefault(),$(this).siblings("a.active").removeClass("active"),$(this).addClass("active"),$(this).css("display","");var e=$(this).index();$(this).parents(".vrtc-tab-panel-container").find("div.vrtc-tab-panel>div.vrtc-tab-panel-content").removeClass("active").trigger("hidden.bs.collapse"),$(this).parents(".vrtc-tab-panel-container").find("div.vrtc-tab-panel>div.vrtc-tab-panel-content").eq(e).addClass("active").trigger("shown.bs.collapse")}))},find:function(n){return $(n).find(".vertical-tab-panel")},getId:function(n){return n.id},getValue:function(n){return $(n).find(".active").attr("data-value")},setValue:function(n,e){},receiveMessage:function(n,e){var t=$(n);if(e.hasOwnProperty("value"))t.find("[data-value='"+e.value+"']").click();else if(e.hasOwnProperty("validate"))0===t.children(".active").length&&t.children().length>0&&t.children().last().click();else if(e.hasOwnProperty("reorder")){var i=t.children();i.detach(),t.append($.map(e.reorder,(function(n){return i[n-1]})))}},subscribe:function(n,e){$(n).on("click",(function(n){e()}))},unsubscribe:function(n){$(n).off(".VerticalTabInputBinding")}}),Shiny.inputBindings.register(VerticalTabInputBinding,"shinyWidgets.VerticalTabInput")}else $(document).ready((function(){$("div.vrtc-tab-panel-menu>div.list-group").on("click","> *",(function(n){n.preventDefault(),$(this).siblings("a.active").removeClass("active"),$(this).addClass("active"),$(this).css("display","");var e=$(this).index();$(this).parents(".vrtc-tab-panel-container").find("div.vrtc-tab-panel>div.vrtc-tab-panel-content").removeClass("active").trigger("hidden.bs.collapse"),$(this).parents(".vrtc-tab-panel-container").find("div.vrtc-tab-panel>div.vrtc-tab-panel-content").eq(e).addClass("active").trigger("shown.bs.collapse")}))}));
